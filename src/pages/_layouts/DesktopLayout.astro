---
import Layout from '~/pages/_layouts/Layout.astro';
import Taskbar from '~/application/features/desktop/components/Taskbar/Taskbar.astro';

import type { MetaData } from '~/types';
import Desktop from '~/application/features/desktop/components/Desktop';
import WindowManager from '~/application/features/desktop/components/WindowManager';

export interface Props {
  metadata?: MetaData;
}

const { metadata } = Astro.props;
---

<Layout metadata={metadata}>
  <div class="flex h-screen flex-col">
    <Taskbar />

    <main class="flex-grow">
      <span transition:persist>
        <Desktop client:only="solid-js" transition:persist />
        <WindowManager client:only="solid-js" transition:persist />
      </span>
    </main>
  </div>
</Layout>
