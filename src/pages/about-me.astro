---
import PageLayout from '~/pages/_layouts/PageLayout.astro';

const metadata = {
  title: 'Ahmet Ã‡etinkaya',
  ignoreTitleTemplate: true,
};
---

<PageLayout metadata={metadata} />

<script>
  import { CryptoExtensions } from '@corePackages/ahmet-cetinkaya-core/crypto/CryptoExtensions';
  import { Container } from '~/container';
  import { App, Apps } from '~/domain/models/App';

  await onAstroInit();

  async function onAstroInit() {
    await openAboutMeApp();
  }

  async function openAboutMeApp() {
    const appsService = Container.AppsService;
    const windowsService = Container.WindowsService;

    const app: App | null = await appsService.get((app) => app.id === Apps.AboutMe);
    if (!app) return;

    await windowsService.add({
      id: CryptoExtensions.generateNanoId(),
      title: app.name,
      appId: app.id,
      isMinimized: false,
      layer: 0,
      createdDate: new Date(),
    });
  }
</script>
